# Désactiver l'affichage du contenu du répertoire
Options -Indexes

# Désactiver l'exécution des scripts PHP dans certains répertoires
<FilesMatch "\.(php|php\.)$">
  SetHandler none
</FilesMatch>

# Activer la réécriture d'URL
<IfModule mod_rewrite.c>
  RewriteEngine On
  RewriteBase /

  # Rediriger vers HTTPS
  RewriteCond %{HTTPS} off
  RewriteRule ^ https://%{HTTP_HOST}%{REQUEST_URI} [L,R=301]

  # Supprimer www du domaine
  RewriteCond %{HTTP_HOST} ^www\.(.*)$ [NC]
  RewriteRule ^(.*)$ https://%1/$1 [R=301,L]

  # Rediriger vers le fichier index.html pour les applications Angular
  RewriteCond %{REQUEST_FILENAME} !-f
  RewriteCond %{REQUEST_FILENAME} !-d
  RewriteRule ^ index.html [L]
</IfModule>

# Activer la compression Gzip
<IfModule mod_deflate.c>
  <FilesMatch "\.(js|css|json|html|xml)$">
    SetOutputFilter DEFLATE
  </FilesMatch>
</IfModule>


# Autoriser l'accès à partir de tous les appareils
<IfModule mod_headers.c>
  Header set Access-Control-Allow-Origin "*"
</IfModule>


# Bloquer l'accès à certains fichiers sensibles
# <FilesMatch "(^\.|\.md|\.sh|composer\.json|composer\.lock|CONTRIBUTING\.md|README\.md|readme\.txt)">
#   Order allow,deny
#   Deny from all
#   Satisfy All
# </FilesMatch>

